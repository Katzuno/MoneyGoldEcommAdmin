{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { Fragment, useContext, useEffect, useRef } from 'react';\nimport { EditorContext } from '../../Context';\nimport Child from './Child';\nimport \"./index.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function ToolbarItems(props) {\n  var prefixCls = props.prefixCls,\n    overflow = props.overflow;\n  var _useContext = useContext(EditorContext),\n    fullscreen = _useContext.fullscreen,\n    preview = _useContext.preview,\n    _useContext$barPopup = _useContext.barPopup,\n    barPopup = _useContext$barPopup === void 0 ? {} : _useContext$barPopup,\n    components = _useContext.components,\n    commandOrchestrator = _useContext.commandOrchestrator,\n    dispatch = _useContext.dispatch;\n  var originalOverflow = useRef('');\n  function handleClick(command, name) {\n    if (!dispatch) return;\n    var state = {\n      barPopup: _extends({}, barPopup)\n    };\n    if (command.keyCommand === 'preview') {\n      state.preview = command.value;\n    }\n    if (command.keyCommand === 'fullscreen') {\n      state.fullscreen = !fullscreen;\n    }\n    if (props.commands && command.keyCommand === 'group') {\n      props.commands.forEach(function (item) {\n        if (name === item.groupName) {\n          state.barPopup[name] = true;\n        } else if (item.keyCommand) {\n          state.barPopup[item.groupName] = false;\n        }\n      });\n    } else if (name || command.parent) {\n      Object.keys(state.barPopup || {}).forEach(function (keyName) {\n        state.barPopup[keyName] = false;\n      });\n    }\n    if (Object.keys(state).length) {\n      dispatch(_extends({}, state));\n    }\n    commandOrchestrator && commandOrchestrator.executeCommand(command);\n  }\n  useEffect(function () {\n    if (document && overflow) {\n      if (fullscreen) {\n        // prevent scroll on fullscreen\n        document.body.style.overflow = 'hidden';\n      } else {\n        // get the original overflow only the first time\n        if (!originalOverflow.current) {\n          originalOverflow.current = window.getComputedStyle(document.body, null).overflow;\n        }\n        // reset to the original overflow\n        document.body.style.overflow = originalOverflow.current;\n      }\n    }\n  }, [fullscreen, originalOverflow, overflow]);\n  return /*#__PURE__*/_jsx(\"ul\", {\n    children: (props.commands || []).map(function (item, idx) {\n      if (item.keyCommand === 'divider') {\n        return /*#__PURE__*/_jsx(\"li\", _extends({}, item.liProps, {\n          className: prefixCls + \"-toolbar-divider\"\n        }), idx);\n      }\n      if (!item.keyCommand) return /*#__PURE__*/_jsx(Fragment, {}, idx);\n      var activeBtn = fullscreen && item.keyCommand === 'fullscreen' || item.keyCommand === 'preview' && preview === item.value;\n      var childNode = item.children && typeof item.children === 'function' ? item.children({\n        getState: function getState() {\n          return commandOrchestrator.getState();\n        },\n        textApi: commandOrchestrator ? commandOrchestrator.textApi : undefined,\n        close: function close() {\n          return handleClick({}, item.groupName);\n        },\n        execute: function execute() {\n          return handleClick({\n            execute: item.execute\n          });\n        },\n        dispatch: dispatch\n      }) : undefined;\n      var disabled = barPopup && preview && preview === 'preview' && !/(preview|fullscreen)/.test(item.keyCommand);\n      var render = (components == null ? void 0 : components.toolbar) || item.render;\n      var com = render && typeof render === 'function' ? render(item, !!disabled, handleClick, idx) : null;\n      return /*#__PURE__*/_jsxs(\"li\", _extends({}, item.liProps, {\n        className: activeBtn ? \"active\" : '',\n        children: [com && /*#__PURE__*/React.isValidElement(com) && com, !com && !item.buttonProps && item.icon, !com && item.buttonProps && /*#__PURE__*/React.createElement('button', _extends({\n          type: 'button',\n          key: idx,\n          disabled: disabled,\n          'data-name': item.name\n        }, item.buttonProps, {\n          onClick: function onClick(evn) {\n            evn.stopPropagation();\n            handleClick(item, item.groupName);\n          }\n        }), item.icon), item.children && /*#__PURE__*/_jsx(Child, {\n          overflow: overflow,\n          groupName: item.groupName,\n          prefixCls: prefixCls,\n          children: childNode,\n          commands: Array.isArray(item.children) ? item.children : undefined\n        })]\n      }), idx);\n    })\n  });\n}\nexport default function Toolbar(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var _props = props,\n    prefixCls = _props.prefixCls,\n    toolbarBottom = _props.toolbarBottom,\n    isChild = _props.isChild;\n  var _useContext2 = useContext(EditorContext),\n    commands = _useContext2.commands,\n    extraCommands = _useContext2.extraCommands;\n  var bottomClassName = toolbarBottom ? 'bottom' : '';\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: prefixCls + \"-toolbar \" + bottomClassName,\n    children: [/*#__PURE__*/_jsx(ToolbarItems, _extends({}, props, {\n      commands: props.commands || commands || []\n    })), !isChild && /*#__PURE__*/_jsx(ToolbarItems, _extends({}, props, {\n      commands: extraCommands || []\n    }))]\n  });\n}","map":{"version":3,"names":["_extends","React","Fragment","useContext","useEffect","useRef","EditorContext","Child","jsx","_jsx","jsxs","_jsxs","ToolbarItems","props","prefixCls","overflow","_useContext","fullscreen","preview","_useContext$barPopup","barPopup","components","commandOrchestrator","dispatch","originalOverflow","handleClick","command","name","state","keyCommand","value","commands","forEach","item","groupName","parent","Object","keys","keyName","length","executeCommand","document","body","style","current","window","getComputedStyle","children","map","idx","liProps","className","activeBtn","childNode","getState","textApi","undefined","close","execute","disabled","test","render","toolbar","com","isValidElement","buttonProps","icon","createElement","type","key","onClick","evn","stopPropagation","Array","isArray","Toolbar","_props","toolbarBottom","isChild","_useContext2","extraCommands","bottomClassName"],"sources":["D:/WORK/IT HIT/TemaOnlineStore/MoneyGoldEcommAdmin/node_modules/@uiw/react-md-editor/esm/components/Toolbar/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { Fragment, useContext, useEffect, useRef } from 'react';\nimport { EditorContext } from '../../Context';\nimport Child from './Child';\nimport \"./index.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function ToolbarItems(props) {\n  var {\n    prefixCls,\n    overflow\n  } = props;\n  var {\n    fullscreen,\n    preview,\n    barPopup = {},\n    components,\n    commandOrchestrator,\n    dispatch\n  } = useContext(EditorContext);\n  var originalOverflow = useRef('');\n  function handleClick(command, name) {\n    if (!dispatch) return;\n    var state = {\n      barPopup: _extends({}, barPopup)\n    };\n    if (command.keyCommand === 'preview') {\n      state.preview = command.value;\n    }\n    if (command.keyCommand === 'fullscreen') {\n      state.fullscreen = !fullscreen;\n    }\n    if (props.commands && command.keyCommand === 'group') {\n      props.commands.forEach(item => {\n        if (name === item.groupName) {\n          state.barPopup[name] = true;\n        } else if (item.keyCommand) {\n          state.barPopup[item.groupName] = false;\n        }\n      });\n    } else if (name || command.parent) {\n      Object.keys(state.barPopup || {}).forEach(keyName => {\n        state.barPopup[keyName] = false;\n      });\n    }\n    if (Object.keys(state).length) {\n      dispatch(_extends({}, state));\n    }\n    commandOrchestrator && commandOrchestrator.executeCommand(command);\n  }\n  useEffect(() => {\n    if (document && overflow) {\n      if (fullscreen) {\n        // prevent scroll on fullscreen\n        document.body.style.overflow = 'hidden';\n      } else {\n        // get the original overflow only the first time\n        if (!originalOverflow.current) {\n          originalOverflow.current = window.getComputedStyle(document.body, null).overflow;\n        }\n        // reset to the original overflow\n        document.body.style.overflow = originalOverflow.current;\n      }\n    }\n  }, [fullscreen, originalOverflow, overflow]);\n  return /*#__PURE__*/_jsx(\"ul\", {\n    children: (props.commands || []).map((item, idx) => {\n      if (item.keyCommand === 'divider') {\n        return /*#__PURE__*/_jsx(\"li\", _extends({}, item.liProps, {\n          className: prefixCls + \"-toolbar-divider\"\n        }), idx);\n      }\n      if (!item.keyCommand) return /*#__PURE__*/_jsx(Fragment, {}, idx);\n      var activeBtn = fullscreen && item.keyCommand === 'fullscreen' || item.keyCommand === 'preview' && preview === item.value;\n      var childNode = item.children && typeof item.children === 'function' ? item.children({\n        getState: () => commandOrchestrator.getState(),\n        textApi: commandOrchestrator ? commandOrchestrator.textApi : undefined,\n        close: () => handleClick({}, item.groupName),\n        execute: () => handleClick({\n          execute: item.execute\n        }),\n        dispatch\n      }) : undefined;\n      var disabled = barPopup && preview && preview === 'preview' && !/(preview|fullscreen)/.test(item.keyCommand);\n      var render = (components == null ? void 0 : components.toolbar) || item.render;\n      var com = render && typeof render === 'function' ? render(item, !!disabled, handleClick, idx) : null;\n      return /*#__PURE__*/_jsxs(\"li\", _extends({}, item.liProps, {\n        className: activeBtn ? \"active\" : '',\n        children: [com && /*#__PURE__*/React.isValidElement(com) && com, !com && !item.buttonProps && item.icon, !com && item.buttonProps && /*#__PURE__*/React.createElement('button', _extends({\n          type: 'button',\n          key: idx,\n          disabled,\n          'data-name': item.name\n        }, item.buttonProps, {\n          onClick: evn => {\n            evn.stopPropagation();\n            handleClick(item, item.groupName);\n          }\n        }), item.icon), item.children && /*#__PURE__*/_jsx(Child, {\n          overflow: overflow,\n          groupName: item.groupName,\n          prefixCls: prefixCls,\n          children: childNode,\n          commands: Array.isArray(item.children) ? item.children : undefined\n        })]\n      }), idx);\n    })\n  });\n}\nexport default function Toolbar(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  var {\n    prefixCls,\n    toolbarBottom,\n    isChild\n  } = props;\n  var {\n    commands,\n    extraCommands\n  } = useContext(EditorContext);\n  var bottomClassName = toolbarBottom ? 'bottom' : '';\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: prefixCls + \"-toolbar \" + bottomClassName,\n    children: [/*#__PURE__*/_jsx(ToolbarItems, _extends({}, props, {\n      commands: props.commands || commands || []\n    })), !isChild && /*#__PURE__*/_jsx(ToolbarItems, _extends({}, props, {\n      commands: extraCommands || []\n    }))]\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}